
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.2)

2026-02-05 16:56:04.700 [,] INFO  [main] c.f.n.NotificationServiceApplication - Starting NotificationServiceApplication using Java 21.0.2 with PID 30336 (C:\Users\C15447B\Documents\personal\Food delivery application\services\notification-service\target\notification-service-1.0.0-SNAPSHOT.jar started by C15447B in C:\Users\C15447B\Documents\personal\Food delivery application)
2026-02-05 16:56:04.739 [,] DEBUG [main] c.f.n.NotificationServiceApplication - Running with Spring Boot v3.2.2, Spring v6.1.3
2026-02-05 16:56:04.741 [,] INFO  [main] c.f.n.NotificationServiceApplication - The following 1 profile is active: "local"
2026-02-05 16:56:05.038 [,] INFO  [main] o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2026-02-05 16:56:05.039 [,] INFO  [main] o.s.c.c.c.ConfigServerConfigDataLoader - Exception on Url - http://localhost:8888:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8888/notification-service/default": Connection refused: getsockopt. Will be trying the next url if available
2026-02-05 16:56:05.040 [,] WARN  [main] o.s.c.c.c.ConfigServerConfigDataLoader - Could not locate PropertySource ([ConfigServerConfigDataResource@67fe380b uris = array<String>['http://localhost:8888'], optional = true, profiles = 'default']): I/O error on GET request for "http://localhost:8888/notification-service/default": Connection refused: getsockopt
2026-02-05 16:56:05.040 [,] INFO  [main] o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2026-02-05 16:56:05.040 [,] INFO  [main] o.s.c.c.c.ConfigServerConfigDataLoader - Exception on Url - http://localhost:8888:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8888/notification-service/local": Connection refused: getsockopt. Will be trying the next url if available
2026-02-05 16:56:05.040 [,] WARN  [main] o.s.c.c.c.ConfigServerConfigDataLoader - Could not locate PropertySource ([ConfigServerConfigDataResource@47dd778 uris = array<String>['http://localhost:8888'], optional = true, profiles = 'local']): I/O error on GET request for "http://localhost:8888/notification-service/local": Connection refused: getsockopt
2026-02-05 16:56:05.044 [,] INFO  [main] o.s.c.c.c.ConfigServerConfigDataLoader - Fetching config from server at : http://localhost:8888
2026-02-05 16:56:05.044 [,] INFO  [main] o.s.c.c.c.ConfigServerConfigDataLoader - Exception on Url - http://localhost:8888:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8888/notification-service/default": Connection refused: getsockopt. Will be trying the next url if available
2026-02-05 16:56:05.045 [,] WARN  [main] o.s.c.c.c.ConfigServerConfigDataLoader - Could not locate PropertySource ([ConfigServerConfigDataResource@15515c51 uris = array<String>['http://localhost:8888'], optional = true, profiles = 'default']): I/O error on GET request for "http://localhost:8888/notification-service/default": Connection refused: getsockopt
2026-02-05 16:56:10.230 [,] INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2026-02-05 16:56:10.237 [,] INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-05 16:56:10.839 [,] INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 583 ms. Found 1 JPA repository interface.
2026-02-05 16:56:12.655 [,] INFO  [main] o.s.cloud.context.scope.GenericScope - BeanFactory id=629737b1-884a-349e-a08d-0a7df1845510
2026-02-05 16:56:14.471 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$RetryInterceptorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$RetryInterceptorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2026-02-05 16:56:14.512 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration' of type [org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:14.552 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration' of type [org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:14.640 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:14.650 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:14.663 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda/0x00000209e65557b0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:14.758 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:14.788 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'spring.cloud.loadbalancer-org.springframework.cloud.client.loadbalancer.LoadBalancerClientsProperties' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerClientsProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:14.866 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'default.org.springframework.cloud.loadbalancer.config.LoadBalancerAutoConfiguration.LoadBalancerClientSpecification' of type [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientSpecification] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:14.876 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'default.org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration.LoadBalancerClientSpecification' of type [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientSpecification] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:14.879 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientFactory' of type [org.springframework.cloud.loadbalancer.support.LoadBalancerClientFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:14.913 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'blockingLoadBalancerClient' of type [org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:14.946 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerServiceInstanceCookieTransformer' of type [org.springframework.cloud.loadbalancer.core.LoadBalancerServiceInstanceCookieTransformer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:14.960 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'xForwarderHeadersTransformer' of type [org.springframework.cloud.loadbalancer.blocking.XForwardedHeadersTransformer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:14.969 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:14.983 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerRequestFactory' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerRequestFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:14.995 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration$BlockingLoadBalancerRetryConfig' of type [org.springframework.cloud.loadbalancer.config.BlockingLoadBalancerClientAutoConfiguration$BlockingLoadBalancerRetryConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:15.032 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancedRetryFactory' of type [org.springframework.cloud.loadbalancer.blocking.retry.BlockingLoadBalancedRetryFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:15.060 [,] WARN  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.RetryLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected into a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies.
2026-02-05 16:56:16.243 [,] INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8085 (http)
2026-02-05 16:56:16.297 [,] INFO  [main] o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-05 16:56:16.298 [,] INFO  [main] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.18]
2026-02-05 16:56:16.434 [,] INFO  [main] o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-05 16:56:16.439 [,] INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 11381 ms
2026-02-05 16:56:19.025 [,] INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-05 16:56:19.956 [,] INFO  [main] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:foodexpress_notifications user=SA
2026-02-05 16:56:19.959 [,] INFO  [main] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-05 16:56:19.984 [,] INFO  [main] o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:foodexpress_notifications'
2026-02-05 16:56:21.108 [,] INFO  [main] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-05 16:56:21.324 [,] INFO  [main] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2026-02-05 16:56:21.433 [,] INFO  [main] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-05 16:56:22.095 [,] INFO  [main] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-05 16:56:22.286 [,] WARN  [main] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-05 16:56:24.780 [,] INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-05 16:56:24.836 [,] DEBUG [main] org.hibernate.SQL - 
    drop table if exists notifications cascade 
Hibernate: 
    drop table if exists notifications cascade 
2026-02-05 16:56:24.871 [,] DEBUG [main] org.hibernate.SQL - 
    create table notifications (
        is_read boolean,
        max_retries integer,
        retry_count integer,
        created_at timestamp(6) not null,
        delivered_at timestamp(6),
        next_retry_at timestamp(6),
        read_at timestamp(6),
        sent_at timestamp(6),
        channel varchar(255) not null check (channel in ('EMAIL','SMS','PUSH','IN_APP')),
        external_id varchar(255),
        failure_reason varchar(255),
        id varchar(255) not null,
        message TEXT not null,
        metadata jsonb,
        recipient varchar(255),
        reference_id varchar(255),
        reference_type varchar(255),
        status varchar(255) not null check (status in ('PENDING','SENT','DELIVERED','FAILED','CANCELLED')),
        title varchar(255) not null,
        type varchar(255) not null check (type in ('ORDER_PLACED','ORDER_CONFIRMED','ORDER_PREPARING','ORDER_READY','ORDER_OUT_FOR_DELIVERY','ORDER_DELIVERED','ORDER_CANCELLED','PAYMENT_SUCCESS','PAYMENT_FAILED','REFUND_INITIATED','REFUND_COMPLETED','WELCOME','EMAIL_VERIFICATION','PASSWORD_RESET','ACCOUNT_SUSPENDED','NEW_DELIVERY_AVAILABLE','DELIVERY_ASSIGNED','PROMOTIONAL')),
        user_id varchar(255) not null,
        primary key (id)
    )
Hibernate: 
    create table notifications (
        is_read boolean,
        max_retries integer,
        retry_count integer,
        created_at timestamp(6) not null,
        delivered_at timestamp(6),
        next_retry_at timestamp(6),
        read_at timestamp(6),
        sent_at timestamp(6),
        channel varchar(255) not null check (channel in ('EMAIL','SMS','PUSH','IN_APP')),
        external_id varchar(255),
        failure_reason varchar(255),
        id varchar(255) not null,
        message TEXT not null,
        metadata jsonb,
        recipient varchar(255),
        reference_id varchar(255),
        reference_type varchar(255),
        status varchar(255) not null check (status in ('PENDING','SENT','DELIVERED','FAILED','CANCELLED')),
        title varchar(255) not null,
        type varchar(255) not null check (type in ('ORDER_PLACED','ORDER_CONFIRMED','ORDER_PREPARING','ORDER_READY','ORDER_OUT_FOR_DELIVERY','ORDER_DELIVERED','ORDER_CANCELLED','PAYMENT_SUCCESS','PAYMENT_FAILED','REFUND_INITIATED','REFUND_COMPLETED','WELCOME','EMAIL_VERIFICATION','PASSWORD_RESET','ACCOUNT_SUSPENDED','NEW_DELIVERY_AVAILABLE','DELIVERY_ASSIGNED','PROMOTIONAL')),
        user_id varchar(255) not null,
        primary key (id)
    )
2026-02-05 16:56:24.932 [,] INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-05 16:56:26.938 [,] INFO  [main] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-05 16:56:32.297 [,] WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-05 16:56:39.024 [,] INFO  [main] o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2026-02-05 16:56:39.106 [,] INFO  [main] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6cba98b5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69612ba4, org.springframework.security.web.context.SecurityContextHolderFilter@4e5dd9b, org.springframework.security.web.header.HeaderWriterFilter@5c4f1961, org.springframework.web.filter.CorsFilter@47e4126a, org.springframework.security.web.csrf.CsrfFilter@1b599d06, org.springframework.security.web.authentication.logout.LogoutFilter@1441dc49, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@693c135b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@256a1f2c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11e3225c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5f2efaec, org.springframework.security.web.access.ExceptionTranslationFilter@71ec5154, org.springframework.security.web.access.intercept.AuthorizationFilter@6ff37588]
2026-02-05 16:56:39.547 [,] INFO  [main] o.s.c.n.e.c.DiscoveryClientOptionalArgsConfiguration - Eureka HTTP Client uses RestTemplate.
2026-02-05 16:56:39.717 [,] WARN  [main] o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2026-02-05 16:56:40.037 [,] INFO  [main] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8085 (http) with context path ''
2026-02-05 16:56:40.119 [,] INFO  [main] c.f.n.NotificationServiceApplication - Started NotificationServiceApplication in 40.196 seconds (process running for 43.356)
2026-02-05 16:56:40.504 [69847e701893d1b2e8bcccd70172fba5,e8bcccd70172fba5] DEBUG [scheduling-1] org.hibernate.SQL - 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
Hibernate: 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
2026-02-05 16:56:41.787 [,] WARN  [AsyncReporter{org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender@4942e6af}] z.r.AsyncReporter$BoundedAsyncReporter - Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2026-02-05 16:56:41.788 [,] WARN  [AsyncReporter{org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender@4942e6af}] z.r.AsyncReporter$BoundedAsyncReporter - Dropped 1 spans due to ResourceAccessException(I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt)
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:9411/api/v2/spans": Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:905)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:885)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:781)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:663)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender$RestTemplateHttpPostCall.doExecute(ZipkinRestTemplateSender.java:68)
	at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender$RestTemplateHttpPostCall.doExecute(ZipkinRestTemplateSender.java:48)
	at zipkin2.Call$Base.execute(Call.java:391)
	at zipkin2.reporter.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:299)
	at zipkin2.reporter.AsyncReporter$Flusher.run(AsyncReporter.java:378)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:9411 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:184)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:95)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:879)
	... 8 common frames omitted
2026-02-05 16:57:40.655 [69847eacb6c62f55dc6f4d055c33ae8a,dc6f4d055c33ae8a] DEBUG [scheduling-1] org.hibernate.SQL - 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
Hibernate: 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
2026-02-05 16:58:40.697 [69847ee86269d943b2cb9be2df7c3a32,b2cb9be2df7c3a32] DEBUG [scheduling-1] org.hibernate.SQL - 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
Hibernate: 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
2026-02-05 16:59:40.742 [69847f24579f0a48ce1422cbee015429,ce1422cbee015429] DEBUG [scheduling-1] org.hibernate.SQL - 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
Hibernate: 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
2026-02-05 17:00:40.753 [69847f60292c569dde3620d2bc58c347,de3620d2bc58c347] DEBUG [scheduling-1] org.hibernate.SQL - 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
Hibernate: 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
2026-02-05 17:01:40.769 [69847f9c9686ddd96c03893ee0b0d64a,6c03893ee0b0d64a] DEBUG [scheduling-1] org.hibernate.SQL - 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
Hibernate: 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
2026-02-05 17:02:40.777 [69847fd8b8c9e14187d94793d9ac382a,87d94793d9ac382a] DEBUG [scheduling-1] org.hibernate.SQL - 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
Hibernate: 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
2026-02-05 17:03:40.789 [69848014597ce9936e264c92171427ad,6e264c92171427ad] DEBUG [scheduling-1] org.hibernate.SQL - 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
Hibernate: 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
2026-02-05 17:04:40.811 [698480500cbf85ac54d0f1894278fc13,54d0f1894278fc13] DEBUG [scheduling-1] org.hibernate.SQL - 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
Hibernate: 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
2026-02-05 17:05:40.831 [6984808cfea0dc15715bdf282c87947c,715bdf282c87947c] DEBUG [scheduling-1] org.hibernate.SQL - 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
Hibernate: 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
2026-02-05 17:06:40.846 [698480c88182734df748f82757fd13bb,f748f82757fd13bb] DEBUG [scheduling-1] org.hibernate.SQL - 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
Hibernate: 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
2026-02-05 17:07:40.864 [69848104ef4c41e1046951d446b237d6,046951d446b237d6] DEBUG [scheduling-1] org.hibernate.SQL - 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
Hibernate: 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
2026-02-05 17:08:40.878 [698481407ac28f86d594be248830a727,d594be248830a727] DEBUG [scheduling-1] org.hibernate.SQL - 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
Hibernate: 
    select
        n1_0.id,
        n1_0.channel,
        n1_0.created_at,
        n1_0.delivered_at,
        n1_0.external_id,
        n1_0.failure_reason,
        n1_0.is_read,
        n1_0.max_retries,
        n1_0.message,
        n1_0.metadata,
        n1_0.next_retry_at,
        n1_0.read_at,
        n1_0.recipient,
        n1_0.reference_id,
        n1_0.reference_type,
        n1_0.retry_count,
        n1_0.sent_at,
        n1_0.status,
        n1_0.title,
        n1_0.type,
        n1_0.user_id 
    from
        notifications n1_0 
    where
        n1_0.status<>'DELIVERED' 
        and n1_0.status<>'CANCELLED' 
        and n1_0.retry_count<n1_0.max_retries 
        and n1_0.next_retry_at<=? 
    order by
        n1_0.next_retry_at
